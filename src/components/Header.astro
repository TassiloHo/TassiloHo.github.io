---
import { SITE } from "$/config";
import SvgIcon from "./SvgIcon.astro";
import SocialIcon from "./SocialIcon.astro";
import ModeSwitcherBtn from "./ModeSwitcherBtn.svelte";

const { social } = Astro.props;

// Filter to only show LinkedIn, GitHub, and Hugging Face
const displaySocial =
    social?.filter(
        (s) =>
            (s.name === "linkedin" ||
                s.name === "github" ||
                s.name === "huggingface") &&
            s.url,
    ) || [];
---

<header class="header">
    <div class="header__logo">
        <span
            class="inline-flex w-14 h-14 rounded-full lg:mt-4 font-header font-bold text-xl justify-center items-center text-center text-primary dark:text-primaryLight border-2 border-solid border-primaryLight dark:border-primary"
        >
            TH
        </span>
    </div>
    <div class="header__meta flex-1 flex justify-between items-center">
        <nav class="header__nav flex mt-3 lg:mt-6">
            <ul class="header__ref-list flex gap-3">
                {
                    displaySocial.map((item) => (
                        <li class="icon">
                            <a
                                href={item.url}
                                target="_blank"
                                rel="noopener noreferrer"
                                title={item.name}
                                class="hover:opacity-75 transition-opacity duration-150"
                            >
                                <SocialIcon name={item.name} />
                            </a>
                        </li>
                    ))
                }
            </ul>
        </nav>
        <div class="mt-3 lg:mt-6">
            <ModeSwitcherBtn client:visible />
        </div>
    </div>
</header>

<style>
    .header {
        @apply flex gap-4 border-b border-gray-200 dark:border-gray-700 py-3 print:hidden;
    }
    .header__logo-img {
        @apply w-16 h-16 rounded-full overflow-hidden;
    }
    .header__title {
        @apply text-4xl font-extrabold md:text-5xl text-primary dark:text-primaryLight;
    }
    .header__desc {
        @apply text-xl flex-1 dark:text-gray-200;
    }
    .header__ref-list {
        @apply flex gap-3 text-gray-400;
    }
    .header__ref-list .icon {
        @apply p-1 h-8 w-8;
    }
</style>
